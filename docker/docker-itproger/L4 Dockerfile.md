file to configure your own container - Dockerfile

на страницах в docker hub есть код для некоторых Dockerfile.

создадим такой Dockerfile

(команды можно писать в хаотичном порядке, но рекомендуется логически их ставить друг за другом)
```
FROM openjdk:latest
COPY . /java
WORKDIR /java
EXPOSE 8001
RUN javac Main.java
CMD ["java", "Main"]
```

COPY какие файлы будут скопированы в контейнер. Здесь мы копируем все файлы в текущей папке в папку java внутри контейнера. 
WORKDIR - там лежат файлы, которые будут запускаться в образе.

EXPOSE 8001 - через какой порт можно получить доступ к контейнеру. 
RUN - выполнить действие при создании контейнера. То есть мы при первом запуске компилим файл.
CMD - выполнить действие при каждом запуске контейнера. А при каждом запуске мы скомпиленную джаву запускаем. Причем в CMD синтаксис как в списке питона.

Фактически Dockerfile модифицирует образ.

Чтобы построить образ из Dockerfile пишем: (здесь . - путь до Dockerfile)
```
docker build .
```
После сборки Dockerfile новый образ появится в списке docker images

Команда для удаления образа:
```
docker image rm %image_id%
```

#### запускаем контейнер с Dockerfile
```
docker run -p 3001:8001 %image_id%
```
здесь мы перезаписали порт, который был задан в EXPOSE как 8001. Теперь он будет 3001

P.S в нашем примере Dockerfile с openjdk нет смысла в порте, так как внтури openjdk нету сервера по типу nginx или apache server.